#1 [internal] load local bake definitions
#1 reading from stdin 1.10kB done
#1 DONE 0.0s

#2 [tester-service internal] load build definition from Dockerfile
#2 transferring dockerfile: 253B 0.0s done
#2 DONE 0.0s

#3 [monolith-service internal] load build definition from Dockerfile
#3 transferring dockerfile: 195B 0.0s done
#3 DONE 0.0s

#4 [tester-service internal] load metadata for docker.io/library/node:24-alpine
#4 DONE 0.0s

#5 [tester-service internal] load .dockerignore
#5 transferring context: 2B done
#5 DONE 0.0s

#6 [tester-service 1/6] FROM docker.io/library/node:24-alpine@sha256:931d7d57f8c1fd0e2179dbff7cc7da4c9dd100998bc2b32afc85142d8efbc213
#6 resolve docker.io/library/node:24-alpine@sha256:931d7d57f8c1fd0e2179dbff7cc7da4c9dd100998bc2b32afc85142d8efbc213 0.0s done
#6 DONE 0.0s

#7 [tester-service internal] load build context
#7 ...

#8 [monolith-service internal] load metadata for docker.io/library/node:20-alpine
#8 DONE 0.4s

#9 [monolith-service internal] load .dockerignore
#9 transferring context: 2B done
#9 DONE 0.0s

#10 [monolith-service 1/6] FROM docker.io/library/node:20-alpine@sha256:09e2b3d9726018aecf269bd35325f46bf75046a643a66d28360ec71132750ec8
#10 resolve docker.io/library/node:20-alpine@sha256:09e2b3d9726018aecf269bd35325f46bf75046a643a66d28360ec71132750ec8 0.0s done
#10 DONE 0.0s

#7 [tester-service internal] load build context
#7 transferring context: 2.39kB 0.5s done
#7 DONE 0.5s

#11 [tester-service 3/6] COPY services/tester-service/package*.json ./
#11 CACHED

#12 [tester-service 4/6] RUN npm ci --omit=dev
#12 CACHED

#13 [tester-service 2/6] WORKDIR /app
#13 CACHED

#14 [tester-service 5/6] COPY services/tester-service/src ./src
#14 CACHED

#15 [tester-service 6/6] COPY contracts/proto /contracts/proto
#15 CACHED

#16 [tester-service] exporting to image
#16 exporting layers done
#16 exporting manifest sha256:b75da5917be52b6552e916986199c02ae2583083b3563a5e7735c050c1a1b32d done
#16 exporting config sha256:c3b5b29f0db6867cb5ff3313460ba416e63f40fb4451c9cb19b45065cbcb7dbc done
#16 exporting attestation manifest sha256:a49f4df739c590eae4450da274305d59c72d47b45cc1a11c9da388a671525ea1
#16 exporting attestation manifest sha256:a49f4df739c590eae4450da274305d59c72d47b45cc1a11c9da388a671525ea1 0.0s done
#16 exporting manifest list sha256:08e23a93485f3fa1d9ee9a8ec6695cf5045b58b9aa50542a5b81ac6587edd918 0.0s done
#16 naming to docker.io/library/infrastructure-tester-service:latest done
#16 unpacking to docker.io/library/infrastructure-tester-service:latest 0.0s done
#16 DONE 0.1s

#17 [monolith-service internal] load build context
#17 transferring context: 120.74kB 0.1s done
#17 DONE 0.1s

#18 [monolith-service 2/6] WORKDIR /app
#18 CACHED

#19 [monolith-service 4/6] RUN npm i --omit=dev
#19 CACHED

#20 [monolith-service 3/6] COPY package.json ./
#20 CACHED

#21 [monolith-service 5/6] COPY . .
#21 CACHED

#22 [monolith-service 6/6] RUN apk add --no-cache netcat-openbsd
#22 CACHED

#23 [monolith-service] exporting to image
#23 exporting layers done
#23 exporting manifest sha256:c492d2aa847b88e120cc777278ec270c35431495a85cea93e4b94e0722c458d6 done
#23 exporting config sha256:a2e9d7ce159b945886099deff428607ad34d0baca70b2bf01ffea00ff7777b66 done
#23 exporting attestation manifest sha256:114e229b24b36b3295758e3b6c0e9669c34c64f341967795faeb7a9370142b4c 0.0s done
#23 exporting manifest list sha256:9b3afc5ef1ca8900d8a465a0f2958f84da2c1630641b02d39a3fc295012a0cff
#23 exporting manifest list sha256:9b3afc5ef1ca8900d8a465a0f2958f84da2c1630641b02d39a3fc295012a0cff 0.0s done
#23 naming to docker.io/library/infrastructure-monolith-service:latest done
#23 unpacking to docker.io/library/infrastructure-monolith-service:latest done
#23 DONE 0.1s

#24 [tester-service] resolving provenance for metadata file
#24 DONE 0.0s

#25 [monolith-service] resolving provenance for metadata file
#25 DONE 0.0s
Attaching to tester-service
tester-service  | 
tester-service  | > tester-service@1.0.0 start
tester-service  | > node src/run.js
tester-service  | 
tester-service  | Tester: starting Scenario 110...
tester-service  | Scenario 110 running
tester-service  | {"kind":"tester_run_start","scenario":"mono_10_login_1000_chat_2m","mode":"login_chat","login_addr":"monolith-service:50051","gateway_addr":"monolith-service:50052","users_total":1000,"shard_count":1,"shard_index":0,"shard_users":1000,"batch_size":200,"room_name":"PerfRoom","duration_sec":120,"msg_rate_per_user_per_sec":0.2,"t":"2026-02-22T02:20:01.745Z"}
tester-service  | {"kind":"tester_metrics","name":"login","scenario":"mono_10_login_1000_chat_2m","users_attempted":1000,"users_logged_in":1000,"count":1000,"err":0,"avg_ms":138.841,"min_ms":56.817,"max_ms":251.192,"buckets_ms":[1,2,5,10,20,50,100,200,500,1000,2000,5000],"buckets":[0,0,0,0,0,0,201,711,88,0,0,0,0]}
tester-service  | {"kind":"tester_metrics","name":"create_room","scenario":"mono_10_login_1000_chat_2m","count":1,"err":0,"avg_ms":6.784,"min_ms":6.784,"max_ms":6.784,"buckets_ms":[1,2,5,10,20,50,100,200,500,1000,2000,5000],"buckets":[0,0,0,1,0,0,0,0,0,0,0,0,0]}
tester-service  | {"kind":"tester_metrics","name":"enter_room","scenario":"mono_10_login_1000_chat_2m","users_entered":1000,"count":1000,"err":0,"avg_ms":47.172,"min_ms":25.255,"max_ms":66.818,"buckets_ms":[1,2,5,10,20,50,100,200,500,1000,2000,5000],"buckets":[0,0,0,0,0,580,420,0,0,0,0,0,0]}
tester-service  | {"kind":"tester_metrics","name":"send_message","scenario":"mono_10_login_1000_chat_2m","duration_sec":120,"users_active":1000,"wall_ms":126257.186,"msg_throughput_per_sec":232.792,"msg_per_user_per_sec":0.232792,"count":27935,"err":0,"avg_ms":3.165,"min_ms":0.716,"max_ms":45.045,"buckets_ms":[1,2,5,10,20,50,100,200,500,1000,2000,5000],"buckets":[336,5772,18993,2619,198,17,0,0,0,0,0,0,0]}
tester-service  | Scenario 110 complete
tester-service  | Tester: Scenario 110 complete.

[Ktester-service exited with code 0
